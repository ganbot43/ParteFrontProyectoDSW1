@model ParteFrontProyectoDSW1.Contracts.Dtos.PagoDetalladoDto

@{
    ViewData["Title"] = "Confirmar Pago";
}

<div class="container mt-5">
    <h2 class="mb-4">Confirmación de Pago</h2>

    <div class="mb-3">
        <strong>Usuario:</strong> @Model.Usuario <br />
        <strong>Orden:</strong> #@Model.IdOrden
    </div>

    <table class="table table-bordered align-middle">
        <thead class="table-light">
            <tr>
                <th>Producto</th>
                <th>Precio Unit.</th>
                <th>Cantidad</th>
                <th>Subtotal</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@Model.Producto</td>
                <td>S/ @Model.PrecioUnitario.ToString("0.00")</td>
                <td>@Model.Cantidad</td>
                <td>S/ @Model.SubTotal.ToString("0.00")</td>
            </tr>
        </tbody>
    </table>

    <div class="text-end mb-4">
        <h4>
            Total a pagar:
            <strong>S/ @Model.Monto.ToString("0.00")</strong>
        </h4>
    </div>

    <form asp-action="RegistrarPago" method="post">
        <input type="hidden" name="idOrden" value="@Model.IdOrden" />
        <input type="hidden" name="monto" value="@Model.Monto" />

        <div class="mb-3">
            <label class="form-label">Método de pago</label>
            <select name="metodo" class="form-select" required>
                <option value="">Seleccione un método</option>
                <option value="Tarjeta">Tarjeta</option>
                <option value="Yape">Yape</option>
                <option value="Plin">Plin</option>
                <option value="Efectivo">Efectivo</option>
            </select>
        </div>

        <button type="submit" class="btn btn-success btn-lg w-100">
            Realizar Pago
        </button>
    </form>

    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger mt-3">
            @TempData["Error"]
        </div>
    }
</div>
